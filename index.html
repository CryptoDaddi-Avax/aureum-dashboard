<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aureum Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: system-ui, -apple-system, sans-serif; }
        .animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: .5; } }
        .chat-scroll { max-height: 350px; overflow-y-auto; }
        .chat-scroll::-webkit-scrollbar { width: 6px; }
        .chat-scroll::-webkit-scrollbar-thumb { background: #475569; border-radius: 3px; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .fade-in { animation: fadeIn 0.3s ease-out; }
    </style>
</head>
<body class="bg-black text-white">
    <div id="app"></div>
    
    <script>
        const app = document.getElementById('app');
        
        // State
        let activeTab = 'portfolio';
        let livePrice = null;
        let liveTokenData = {};
        let watchlist = ['ETH', 'BTC', 'PEPE'];
        let showChat = false;
        let searchQuery = '';
        let selectedToken = null;
        let chatMessages = [
            { type: 'ai', text: 'Hi! I\'m your AI trading assistant. Try asking me about:\n\n‚Ä¢ Token prices and analysis\n‚Ä¢ Market trends\n‚Ä¢ Portfolio advice\n‚Ä¢ Risk assessment\n\nJust type your question below!' }
        ];
        let isTyping = false;
        
        const allTokens = ['ETH', 'BTC', 'PEPE', 'SOL', 'ARB', 'MATIC', 'LINK', 'UNI', 'AAVE'];
        
        const mockTokenData = {
            'ETH': { name: 'Ethereum', price: '$2,543', priceNum: 2543, change: '+3.45%', positive: true, marketCap: '$305B', volume: '$12.5B' },
            'BTC': { name: 'Bitcoin', price: '$43,821', priceNum: 43821, change: '+1.23%', positive: true, marketCap: '$857B', volume: '$23.4B' },
            'PEPE': { name: 'Pepe', price: '$0.0000012', priceNum: 0.0000012, change: '-2.34%', positive: false, marketCap: '$504M', volume: '$89M' },
            'SOL': { name: 'Solana', price: '$98.45', priceNum: 98.45, change: '+5.67%', positive: true, marketCap: '$42B', volume: '$1.8B' },
            'ARB': { name: 'Arbitrum', price: '$1.23', priceNum: 1.23, change: '+2.15%', positive: true, marketCap: '$1.5B', volume: '$234M' },
            'MATIC': { name: 'Polygon', price: '$0.89', priceNum: 0.89, change: '-1.45%', positive: false, marketCap: '$8.2B', volume: '$456M' },
            'LINK': { name: 'Chainlink', price: '$14.56', priceNum: 14.56, change: '+4.23%', positive: true, marketCap: '$8.5B', volume: '$567M' },
            'UNI': { name: 'Uniswap', price: '$6.78', priceNum: 6.78, change: '+1.89%', positive: true, marketCap: '$5.1B', volume: '$234M' },
            'AAVE': { name: 'Aave', price: '$95.34', priceNum: 95.34, change: '-0.56%', positive: false, marketCap: '$1.4B', volume: '$123M' }
        };
        
        const leaderboard = [
            { rank: 1, name: 'CryptoKing', avatar: 'üëë', pnl: '+$847K', roi: '892%', winRate: '94%', followers: 12453, badges: ['Elite Trader', 'Whale Hunter'] },
            { rank: 2, name: 'DefiMaster', avatar: 'üî•', pnl: '+$623K', roi: '687%', winRate: '89%', followers: 8932, badges: ['Smart Money'] },
            { rank: 3, name: 'TokenSniper', avatar: 'üéØ', pnl: '+$534K', roi: '612%', winRate: '87%', followers: 7821, badges: ['Fast Trader'] },
            { rank: 4, name: 'WhaleWatcher', avatar: 'üêã', pnl: '+$456K', roi: '543%', winRate: '85%', followers: 6234, badges: ['Whale Tracker'] },
            { rank: 5, name: 'AlphaSeeker', avatar: '‚ö°', pnl: '+$389K', roi: '487%', winRate: '83%', followers: 5432, badges: ['Consistent Winner'] }
        ];
        
        // Event delegation
        document.addEventListener('click', function(e) {
            // Toggle chat
            if (e.target.closest('[data-action="toggle-chat"]')) {
                toggleChat();
            }
            
            // Set tab
            const tabBtn = e.target.closest('[data-action="set-tab"]');
            if (tabBtn) {
                setTab(tabBtn.dataset.tab);
            }
            
            // Toggle watchlist
            const watchlistBtn = e.target.closest('[data-action="toggle-watchlist"]');
            if (watchlistBtn) {
                toggleWatchlist(watchlistBtn.dataset.symbol);
            }
            
            // View token
            const viewTokenBtn = e.target.closest('[data-action="view-token"]');
            if (viewTokenBtn) {
                viewToken(viewTokenBtn.dataset.symbol);
            }
            
            // Back to list
            if (e.target.closest('[data-action="back-to-list"]')) {
                backToList();
            }
            
            // Send message
            if (e.target.closest('[data-action="send-message"]')) {
                sendMessage();
            }
        });
        
        // Search input
        document.addEventListener('input', function(e) {
            if (e.target.matches('[data-action="search"]')) {
                updateSearch(e.target.value);
            }
        });
        
        // Enter key for chat
        document.addEventListener('keypress', function(e) {
            if (e.target.id === 'chatInput' && e.key === 'Enter') {
                sendMessage();
            }
        });
        
        // Fetch live token data
        async function fetchTokenData() {
            try {
                const response = await fetch('https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=ethereum,bitcoin,pepe,solana,arbitrum-iou,matic-network,chainlink,uniswap,aave&sparkline=false&price_change_percentage=24h');
                const data = await response.json();
                
                const mapping = {
                    'ethereum': 'ETH',
                    'bitcoin': 'BTC',
                    'pepe': 'PEPE',
                    'solana': 'SOL',
                    'arbitrum-iou': 'ARB',
                    'matic-network': 'MATIC',
                    'chainlink': 'LINK',
                    'uniswap': 'UNI',
                    'aave': 'AAVE'
                };
                
                data.forEach(token => {
                    const symbol = mapping[token.id];
                    if (symbol) {
                        liveTokenData[symbol] = {
                            name: token.name,
                            price: token.current_price >= 0.01 ? `$${token.current_price.toFixed(2)}` : `$${token.current_price.toFixed(8)}`,
                            priceNum: token.current_price,
                            change: `${token.price_change_percentage_24h >= 0 ? '+' : ''}${token.price_change_percentage_24h.toFixed(2)}%`,
                            positive: token.price_change_percentage_24h >= 0,
                            marketCap: `$${(token.market_cap / 1e9).toFixed(2)}B`,
                            volume: `$${(token.total_volume / 1e6).toFixed(0)}M`
                        };
                    }
                });
                render();
            } catch (error) {
                console.log('Using mock data');
            }
        }
        
        // Fetch live BTC/ETH prices
        async function fetchPrices() {
            try {
                const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum&vs_currencies=usd&include_24hr_change=true');
                livePrice = await response.json();
                render();
            } catch (error) {
                console.log('Price fetch failed');
            }
        }
        
        function getTokenData(symbol) {
            return liveTokenData[symbol] || mockTokenData[symbol];
        }
        
        function toggleWatchlist(symbol) {
            if (watchlist.includes(symbol)) {
                watchlist = watchlist.filter(s => s !== symbol);
            } else {
                watchlist.push(symbol);
            }
            render();
        }
        
        function setTab(tab) {
            activeTab = tab;
            selectedToken = null;
            render();
        }
        
        function viewToken(symbol) {
            selectedToken = symbol;
            render();
        }
        
        function backToList() {
            selectedToken = null;
            render();
        }
        
        function updateSearch(value) {
            searchQuery = value.toLowerCase();
            render();
        }
        
        function getFilteredTokens() {
            return allTokens.filter(symbol => {
                const token = getTokenData(symbol);
                return token.name.toLowerCase().includes(searchQuery) || 
                       symbol.toLowerCase().includes(searchQuery);
            });
        }
        
        function calculatePortfolioMetrics() {
            if (watchlist.length === 0) {
                return { totalValue: '$0', change: '+0%', riskScore: 0, diversification: 'N/A' };
            }
            
            let totalValue = 0;
            let totalChange = 0;
            
            watchlist.forEach(symbol => {
                const token = getTokenData(symbol);
                totalValue += token.priceNum * 100;
                totalChange += parseFloat(token.change);
            });
            
            const avgChange = totalChange / watchlist.length;
            const riskScore = Math.min(100, Math.round(Math.abs(avgChange) * 10));
            
            return {
                totalValue: `$${totalValue.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`,
                change: `${avgChange >= 0 ? '+' : ''}${avgChange.toFixed(2)}%`,
                riskScore: riskScore,
                diversification: watchlist.length >= 5 ? 'Good' : watchlist.length >= 3 ? 'Moderate' : 'Low'
            };
        }
        
        function toggleChat() {
            showChat = !showChat;
            render();
        }
        
        // AI Response Logic
        function getAIResponse(message) {
            const msg = message.toLowerCase();
            
            if (msg.includes('eth') || msg.includes('ethereum')) {
                const token = getTokenData('ETH');
                return `**Ethereum (ETH)** is currently at ${token.price} with a ${token.change} change in 24h.\n\nMarket Cap: ${token.marketCap}\nVolume: ${token.volume}\n\nETH is showing ${token.positive ? 'positive' : 'negative'} momentum.`;
            }
            
            if (msg.includes('btc') || msg.includes('bitcoin')) {
                const token = getTokenData('BTC');
                return `**Bitcoin (BTC)** is trading at ${token.price}, ${token.change} in the last 24 hours.\n\nMarket Cap: ${token.marketCap}\nVolume: ${token.volume}`;
            }
            
            if (msg.includes('sol') || msg.includes('solana')) {
                const token = getTokenData('SOL');
                return `**Solana (SOL)** is at ${token.price}, ${token.change} today.\n\nMarket Cap: ${token.marketCap}\nVolume: ${token.volume}`;
            }
            
            if (msg.includes('portfolio')) {
                const metrics = calculatePortfolioMetrics();
                return `Your portfolio has ${watchlist.length} tokens with a total value of ${metrics.totalValue}.\n\n**Performance:** ${metrics.change}\n**Risk Score:** ${metrics.riskScore}/100\n**Diversification:** ${metrics.diversification}`;
            }
            
            if (msg.includes('risk')) {
                const metrics = calculatePortfolioMetrics();
                return `Your risk score is ${metrics.riskScore}/100.\n\n**Risk Level:** ${metrics.riskScore < 30 ? 'Low' : metrics.riskScore < 60 ? 'Moderate' : 'High'}`;
            }
            
            if (msg.includes('watchlist')) {
                return `You have ${watchlist.length} tokens: ${watchlist.join(', ')}.\n\nAdd or remove tokens from the Tokens tab.`;
            }
            
            if (msg.includes('best') || msg.includes('top')) {
                const sorted = allTokens
                    .map(s => ({ symbol: s, ...getTokenData(s) }))
                    .filter(t => t.positive)
                    .sort((a, b) => parseFloat(b.change) - parseFloat(a.change))
                    .slice(0, 3);
                
                return `**Top Gainers:**\n\n${sorted.map((t, i) => `${i + 1}. ${t.symbol}: ${t.change}`).join('\n')}`;
            }
            
            if (msg.includes('hello') || msg.includes('hi')) {
                return `Hello! How can I help you today? Ask me about tokens, portfolio, or market trends.`;
            }
            
            if (msg.includes('help')) {
                return `**I can help with:**\n\nüìä Token info\nüìà Market trends\nüíº Portfolio advice\n‚ö†Ô∏è Risk assessment`;
            }
            
            return `I can help with crypto insights! Try asking about:\n\n‚Ä¢ Specific tokens (ETH, BTC, SOL)\n‚Ä¢ Portfolio performance\n‚Ä¢ Top gainers\n‚Ä¢ Risk management`;
        }
        
        function sendMessage() {
            const input = document.getElementById('chatInput');
            if (!input) return;
            
            const message = input.value.trim();
            if (!message) return;
            
            chatMessages.push({ type: 'user', text: message });
            input.value = '';
            isTyping = true;
            render();
            
            setTimeout(() => {
                const chatScroll = document.querySelector('.chat-scroll');
                if (chatScroll) chatScroll.scrollTop = chatScroll.scrollHeight;
            }, 100);
            
            setTimeout(() => {
                const response = getAIResponse(message);
                chatMessages.push({ type: 'ai', text: response });
                isTyping = false;
                render();
                
                setTimeout(() => {
                    const chatScroll = document.querySelector('.chat-scroll');
                    if (chatScroll) chatScroll.scrollTop = chatScroll.scrollHeight;
                }, 100);
            }, 1000);
        }
        
        function render() {
            const metrics = calculatePortfolioMetrics();
            
            app.innerHTML = `
                <!-- Chat Button -->
                ${!showChat ? `
                    <button data-action="toggle-chat" class="fixed bottom-6 right-6 z-50 w-14 h-14 bg-gradient-to-r from-red-600 to-red-700 rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-all cursor-pointer">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                            <path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"/>
                        </svg>
                        <div class="absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full animate-pulse"></div>
                    </button>
                ` : ''}
                
                <!-- Chat Panel -->
                ${showChat ? `
                    <div class="fixed bottom-6 right-6 z-50 w-96 h-[600px] bg-gradient-to-br from-slate-900 to-black border border-red-500/30 rounded-2xl shadow-2xl flex flex-col">
                        <div class="flex items-center justify-between p-4 border-b border-slate-800">
                            <div class="flex items-center gap-2">
                                <div class="w-8 h-8 bg-gradient-to-r from-red-600 to-red-700 rounded-full flex items-center justify-center">‚ö°</div>
                                <div>
                                    <div class="font-bold text-sm">AI Assistant</div>
                                    <div class="text-xs text-green-400">‚óè Online</div>
                                </div>
                            </div>
                            <button data-action="toggle-chat" class="text-slate-400 hover:text-white text-xl">√ó</button>
                        </div>
                        <div class="flex-1 p-4 overflow-y-auto chat-scroll">
                            ${chatMessages.map(msg => `
                                <div class="mb-4 ${msg.type === 'user' ? 'flex justify-end' : ''}">
                                    <div class="${msg.type === 'user' ? 'bg-red-600 max-w-[80%]' : 'bg-slate-800'} rounded-2xl p-3">
                                        <div class="text-sm whitespace-pre-line">${msg.text}</div>
                                    </div>
                                </div>
                            `).join('')}
                            ${isTyping ? `
                                <div class="mb-4">
                                    <div class="bg-slate-800 rounded-2xl p-3 w-16">
                                        <div class="flex gap-1">
                                            <div class="w-2 h-2 bg-slate-500 rounded-full animate-pulse"></div>
                                            <div class="w-2 h-2 bg-slate-500 rounded-full animate-pulse" style="animation-delay: 0.2s"></div>
                                            <div class="w-2 h-2 bg-slate-500 rounded-full animate-pulse" style="animation-delay: 0.4s"></div>
                                        </div>
                                    </div>
                                </div>
                            ` : ''}
                        </div>
                        <div class="p-4 border-t border-slate-800">
                            <div class="flex gap-2">
                                <input 
                                    id="chatInput" 
                                    type="text" 
                                    placeholder="Ask me anything..." 
                                    class="flex-1 px-4 py-2 bg-slate-900 border border-slate-700 rounded-xl focus:outline-none focus:border-red-500 text-white placeholder-slate-500"
                                />
                                <button data-action="send-message" class="px-4 py-2 bg-gradient-to-r from-red-600 to-red-700 rounded-xl hover:from-red-700 hover:to-red-800 transition-all">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                                        <line x1="22" y1="2" x2="11" y2="13"></line>
                                        <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                ` : ''}
                
                ${selectedToken ? renderTokenDetail() : renderMainLayout(metrics)}
            `;
        }
        
        function renderTokenDetail() {
            const token = getTokenData(selectedToken);
            const inWatchlist = watchlist.includes(selectedToken);
            
            return `
                <div class="min-h-screen">
                    <header class="border-b border-slate-800 bg-black/50 backdrop-blur-xl sticky top-0 z-40">
                        <div class="max-w-7xl mx-auto px-6 py-4">
                            <button data-action="back-to-list" class="flex items-center gap-2 text-slate-400 hover:text-white transition-colors mb-4 cursor-pointer">
                                <span class="text-2xl">‚Üê</span>
                                <span>Back to Dashboard</span>
                            </button>
                            <div class="flex items-center justify-between">
                                <div>
                                    <h1 class="text-3xl font-bold">${token.name} (${selectedToken})</h1>
                                    <div class="text-2xl font-bold mt-2">${token.price}</div>
                                    <div class="text-lg ${token.positive ? 'text-green-400' : 'text-red-500'} mt-1">
                                        ${token.change} (24h)
                                    </div>
                                </div>
                                <button 
                                    data-action="toggle-watchlist"
                                    data-symbol="${selectedToken}"
                                    class="px-6 py-3 ${inWatchlist ? 'bg-slate-800 text-slate-300' : 'bg-gradient-to-r from-red-600 to-red-700 text-white'} rounded-xl font-semibold hover:opacity-80 transition-all flex items-center gap-2 cursor-pointer"
                                >
                                    <span class="${inWatchlist ? 'text-red-500' : ''}">‚òÖ</span>
                                    ${inWatchlist ? 'Remove from Watchlist' : 'Add to Watchlist'}
                                </button>
                            </div>
                        </div>
                    </header>
                    <main class="max-w-7xl mx-auto px-6 py-8">
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div class="bg-gradient-to-br from-slate-900/80 to-black border border-red-500/30 rounded-xl p-6">
                                <div class="text-sm text-slate-400 mb-2">Market Cap</div>
                                <div class="text-2xl font-bold">${token.marketCap}</div>
                            </div>
                            <div class="bg-gradient-to-br from-slate-900/80 to-black border border-red-500/30 rounded-xl p-6">
                                <div class="text-sm text-slate-400 mb-2">24h Volume</div>
                                <div class="text-2xl font-bold">${token.volume}</div>
                            </div>
                            <div class="bg-gradient-to-br from-slate-900/80 to-black border border-red-500/30 rounded-xl p-6">
                                <div class="text-sm text-slate-400 mb-2">24h Change</div>
                                <div class="text-2xl font-bold ${token.positive ? 'text-green-400' : 'text-red-500'}">
                                    ${token.change}
                                </div>
                            </div>
                        </div>
                        <div class="mt-6 bg-gradient-to-br from-slate-900/80 to-black border border-red-500/30 rounded-xl p-6">
                            <h2 class="text-xl font-bold mb-4">About ${token.name}</h2>
                            <p class="text-slate-300">
                                ${selectedToken === 'ETH' ? 'Ethereum is a decentralized platform that runs smart contracts and serves as the foundation for thousands of decentralized applications.' : 
                                  selectedToken === 'BTC' ? 'Bitcoin is the first and most well-known cryptocurrency, often referred to as digital gold.' :
                                  selectedToken === 'SOL' ? 'Solana is a high-performance blockchain supporting developers building crypto apps.' :
                                  `${token.name} is a cryptocurrency token with various use cases in the blockchain ecosystem.`}
                            </p>
                        </div>
                    </main>
                </div>
            `;
        }
        
        function renderMainLayout(metrics) {
            return `
                <header class="border-b border-slate-800 bg-black/50 backdrop-blur-xl sticky top-0 z-40">
                    <div class="max-w-7xl mx-auto px-6 py-4">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center gap-3">
                                <div class="w-10 h-10 bg-gradient-to-br from-red-600 to-red-700 rounded-xl flex items-center justify-center">‚ö°</div>
                                <div>
                                    <h1 class="text-2xl font-bold bg-gradient-to-r from-red-500 to-red-600 bg-clip-text text-transparent">Aureum</h1>
                                    <p class="text-xs text-slate-400">Alpha Intelligence Hub</p>
                                </div>
                            </div>
                            
                            <div class="flex items-center gap-6">
                                ${livePrice ? `
                                    <div class="flex gap-4 text-sm">
                                        <div class="flex items-center gap-2">
                                            <span class="text-slate-400">BTC</span>
                                            <span class="font-semibold">$${livePrice.bitcoin.usd.toLocaleString()}</span>
                                            <span class="${livePrice.bitcoin.usd_24h_change > 0 ? 'text-green-400' : 'text-red-500'}">
                                                ${livePrice.bitcoin.usd_24h_change > 0 ? '+' : ''}${livePrice.bitcoin.usd_24h_change.toFixed(2)}%
                                            </span>
                                        </div>
                                        <div class="flex items-center gap-2">
                                            <span class="text-slate-400">ETH</span>
                                            <span class="font-semibold">$${livePrice.ethereum.usd.toLocaleString()}</span>
                                            <span class="${livePrice.ethereum.usd_24h_change > 0 ? 'text-green-400' : 'text-red-500'}">
                                                ${livePrice.ethereum.usd_24h_change > 0 ? '+' : ''}${livePrice.ethereum.usd_24h_change.toFixed(2)}%
                                            </span>
                                        </div>
                                    </div>
                                ` : ''}
                                <div class="flex items-center gap-2 px-3 py-1.5 bg-green-500/10 border border-green-500/30 rounded-lg">
                                    <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div>
                                    <span class="text-sm text-green-400">Live</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mt-4 relative">
                            <svg class="absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/>
                            </svg>
                            <input 
                                type="text" 
                                data-action="search"
                                placeholder="Search tokens..." 
                                class="w-full pl-12 pr-4 py-3 bg-slate-900/50 border border-slate-700 rounded-xl focus:outline-none focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition-all text-white placeholder-slate-500"
                            />
                        </div>
                        
                        <div class="mt-4 flex gap-2 overflow-x-auto pb-2">
                            ${['portfolio', 'analytics', 'tokens', 'leaderboard'].map(tab => `
                                <button 
                                    data-action="set-tab"
                                    data-tab="${tab}"
                                    class="px-4 py-2 rounded-lg font-semibold transition-all whitespace-nowrap cursor-pointer ${
                                        activeTab === tab 
                                            ? 'bg-red-500/20 text-red-500 border border-red-500/30' 
                                            : 'text-slate-400 hover:bg-slate-800/50'
                                    }"
                                >
                                    ${tab === 'leaderboard' ? 'üèÜ ' : ''}${tab.charAt(0).toUpperCase() + tab.slice(1)}
                                </button>
                            `).join('')}
                        </div>
                    </div>
                </header>
                
                <main class="max-w-7xl mx-auto px-6 py-8">
                    ${activeTab === 'portfolio' ? renderPortfolio(metrics) : ''}
                    ${activeTab === 'analytics' ? renderAnalytics(metrics) : ''}
                    ${activeTab === 'tokens' ? renderTokens() : ''}
                    ${activeTab === 'leaderboard' ? renderLeaderboard() : ''}
                </main>
            `;
        }
        
        function renderPortfolio(metrics) {
            return `
                <div class="mb-6 bg-gradient-to-r from-red-500/10 to-red-600/10 border border-red-500/30 rounded-xl p-4">
                    <div class="flex items-start gap-3">
                        <div class="w-10 h-10 bg-red-500/20 rounded-lg flex items-center justify-center">‚ö°</div>
                        <div>
                            <h3 class="font-bold text-red-500 mb-1">Welcome to Aureum!</h3>
                            <p class="text-sm text-slate-300">Click tokens to view details, use the AI assistant, and manage your watchlist!</p>
                        </div>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-8">
                    <div class="bg-gradient-to-br from-slate-900/80 to-black border border-red-500/30 rounded-xl p-5">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-slate-400 text-sm">Portfolio Value</span>
                            <span class="text-red-500 text-xl">$</span>
                        </div>
                        <div class="text-2xl font-bold">${metrics.totalValue}</div>
                        <div class="text-sm ${metrics.change.startsWith('+') ? 'text-green-400' : 'text-red-500'}">${metrics.change}</div>
                    </div>
                    
                    <div class="bg-gradient-to-br from-slate-900/80 to-black border border-red-500/30 rounded-xl p-5">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-slate-400 text-sm">24h Change</span>
                            <span class="${metrics.change.startsWith('+') ? 'text-green-400' : 'text-red-500'} text-xl">‚Üó</span>
                        </div>
                        <div class="text-2xl font-bold ${metrics.change.startsWith('+') ? 'text-green-400' : 'text-red-500'}">${metrics.change}</div>
                        <div class="text-sm text-slate-400">Avg change</div>
                    </div>
                    
                    <div class="bg-gradient-to-br from-slate-900/80 to-black border border-red-500/30 rounded-xl p-5">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-slate-400 text-sm">Watchlist</span>
                            <span class="text-red-500 text-xl">‚òÖ</span>
                        </div>
                        <div class="text-2xl font-bold">${watchlist.length}</div>
                        <div class="text-sm text-slate-400">tokens</div>
                    </div>
                    
                    <div class="bg-gradient-to-br from-slate-900/80 to-black border border-red-500/30 rounded-xl p-5">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-slate-400 text-sm">Risk Score</span>
                            <span class="text-yellow-400 text-xl">üìä</span>
                        </div>
                        <div class="text-2xl font-bold">${metrics.riskScore}/100</div>
                        <div class="text-sm text-slate-400">${metrics.riskScore < 30 ? 'Low' : metrics.riskScore < 60 ? 'Moderate' : 'High'}</div>
                    </div>
                </div>
                
                <div class="bg-gradient-to-br from-slate-900/80 to-black border border-red-500/30 rounded-xl p-6">
                    <h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
                        <span>üëõ</span> My Watchlist
                    </h2>
                    ${watchlist.length === 0 ? `
                        <div class="text-center py-12 bg-slate-900/50 rounded-xl border border-slate-700">
                            <span class="text-6xl">‚òÖ</span>
                            <p class="text-slate-400 mt-4 mb-2">No tokens in watchlist</p>
                            <button data-action="set-tab" data-tab="tokens" class="mt-4 px-6 py-2 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg font-semibold hover:opacity-80 transition-all cursor-pointer">
                                Browse Tokens
                            </button>
                        </div>
                    ` : `
                        <div class="space-y-3">
                            ${watchlist.map(symbol => {
                                const token = getTokenData(symbol);
                                return `
                                    <div class="bg-slate-900/50 border border-slate-700 rounded-xl p-4 hover:border-red-500/50 transition-all group fade-in">
                                        <div class="flex items-center justify-between">
                                            <div data-action="view-token" data-symbol="${symbol}" class="flex items-center gap-3 flex-1 cursor-pointer">
                                                <span class="text-red-500 text-xl">‚òÖ</span>
                                                <div>
                                                    <div class="font-bold group-hover:text-red-500 transition-colors">${token.name}</div>
                                                    <div class="text-sm text-slate-400">${symbol}</div>
                                                </div>
                                            </div>
                                            <div class="text-right">
                                                <div class="font-bold">${token.price}</div>
                                                <div class="${token.positive ? 'text-green-400' : 'text-red-500'} text-sm">${token.change}</div>
                                            </div>
                                        </div>
                                    </div>
                                `;
                            }).join('')}
                        </div>
                    `}
                </div>
            `;
        }
        
        function renderAnalytics(metrics) {
            return `<div class="text-center py-12"><h2 class="text-2xl font-bold">Analytics Coming Soon</h2></div>`;
        }
        
        function renderTokens() {
            const filtered = getFilteredTokens();
            
            return `
                <div class="bg-gradient-to-br from-slate-900/80 to-black border border-red-500/30 rounded-xl p-6">
                    <h2 class="text-2xl font-bold mb-6">All Tokens</h2>
                    
                    <div class="space-y-3">
                        ${filtered.map(symbol => {
                            const token = getTokenData(symbol);
                            const inWatchlist = watchlist.includes(symbol);
                            return `
                                <div class="bg-slate-900/50 border border-slate-700 rounded-xl p-4 hover:border-red-500/50 transition-all group">
                                    <div class="flex items-center justify-between">
                                        <div data-action="view-token" data-symbol="${symbol}" class="flex items-center gap-3 flex-1 cursor-pointer">
                                            <div>
                                                <div class="font-bold text-white group-hover:text-red-500 transition-colors">${token.name}</div>
                                                <div class="text-sm text-slate-400">${symbol} ‚Ä¢ ${token.price} ‚Ä¢ ${token.change}</div>
                                            </div>
                                        </div>
                                        <button 
                                            data-action="toggle-watchlist"
                                            data-symbol="${symbol}"
                                            class="p-2 hover:bg-slate-800 rounded-lg transition-all cursor-pointer"
                                        >
                                            <span class="text-xl ${inWatchlist ? 'text-red-500' : 'text-slate-600'}">‚òÖ</span>
                                        </button>
                                    </div>
                                </div>
                            `;
                        }).join('')}
                    </div>
                </div>
            `;
        }
        
        function renderLeaderboard() {
            return `
                <div class="bg-gradient-to-br from-slate-900/80 to-black border border-red-500/30 rounded-xl p-6">
                    <h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
                        <span>üèÜ</span> Social Leaderboard
                    </h2>
                    
                    <div class="space-y-4">
                        ${leaderboard.map(trader => `
                            <div class="bg-slate-900/50 border border-slate-700 rounded-xl p-5">
                                <div class="flex items-center gap-4 mb-3">
                                    <div class="w-12 h-12 flex items-center justify-center rounded-xl font-bold text-2xl ${
                                        trader.rank === 1 ? 'bg-yellow-500/20 text-yellow-400' :
                                        trader.rank === 2 ? 'bg-slate-400/20 text-slate-300' :
                                        trader.rank === 3 ? 'bg-orange-500/20 text-orange-400' :
                                        'bg-slate-800 text-slate-400'
                                    }">
                                        ${trader.rank <= 3 ? (trader.rank === 1 ? 'ü•á' : trader.rank === 2 ? 'ü•à' : 'ü•â') : `#${trader.rank}`}
                                    </div>
                                    <div>
                                        <div class="flex items-center gap-2">
                                            <span class="text-2xl">${trader.avatar}</span>
                                            <span class="font-bold text-lg">${trader.name}</span>
                                        </div>
                                        <div class="text-sm text-green-400 font-bold">${trader.pnl}</div>
                                    </div>
                                </div>
                                <div class="grid grid-cols-3 gap-3">
                                    <div class="bg-slate-800/50 rounded-lg p-2 text-center">
                                        <div class="text-xs text-slate-400">Followers</div>
                                        <div class="font-bold text-sm">${trader.followers.toLocaleString()}</div>
                                    </div>
                                    <div class="bg-slate-800/50 rounded-lg p-2 text-center">
                                        <div class="text-xs text-slate-400">ROI</div>
                                        <div class="font-bold text-sm text-green-400">${trader.roi}</div>
                                    </div>
                                    <div class="bg-slate-800/50 rounded-lg p-2 text-center">
                                        <div class="text-xs text-slate-400">Win Rate</div>
                                        <div class="font-bold text-sm text-green-400">${trader.winRate}</div>
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }
        
        // Initial render and fetch
        render();
        fetchPrices();
        fetchTokenData();
        setInterval(fetchPrices, 30000);
        setInterval(fetchTokenData, 60000);
    </script>
</body>
</html>
